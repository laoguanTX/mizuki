---
title: 本地有线网络中的通信
published: 2024-11-13
category: ["其他课程基础", "无线网络应用"]
tags: ["网络"]
alias: "communicationinlocalwirednetwork"
---

## 一、物理地址

以太网中的主机都会获得一个物理地址，用于在网络中标识自己，相当于它的名字。

每一个以太网接口（如PC机网卡NIC接口）都有一个物理地址，称为介质访问控制（MAC）地址。事实上，电脑、手机、平板的有线、无线、网卡都有MAC地址。MAC地址用于表示网络中的每台源主机和目的主机。

MAC地址共48位，6个8位，12个16位数字

## 二、网络层次设计的必要性

MAC地址表示某一主机的独特身份，而不指明主机在网络中的位置。如果Internet中所有设备都只用其唯一的MAC地址来标识，那么要查找一台确定的主机无异于大海捞针！

为帮助主机通信，以太网技术还会生成大量广播流量。广播将发送一个网络中的所有主机，它将非常消耗带宽，会减慢网络速度。

可见，光有MAC地址还不够，而且由许多主机组成的大型网络通常效率极低。所以最好将大型网络分割成更便于管理的多个小型网段。这时可使用层次设计模型。

在网络中，层次设计用于从大到小，将设备分组到多个以分层方式构建的网络。它包括更小、更易于管理的组。

层次式设计有三个基本层：

1. 接入层：连接本地以太网络中的主机
2. 分布层：将较小的本地网络相互连接起来
3. 核心层：分布层设备间的高速及大量数据得到连接

接入层为终端用户设备连接到网络提供连接点，允许多台网络设备（通常为交换机，还有已经被淘汰的集线器Hub）连接到其他主机。

分布层为不同的网络提供连接点，并且控制信息在网络之间的流动。主要包含用于在网络间路由（查找通往目的主机的路径的过程）的路由器。分布层设备控制从接入层到核心层的通信流量的类型和大小。

核心层是包含冗余（备份）链接的高速中枢层，负责在多个终端网络（如大型组织、地区甚至国家）之间快速传输大量数据。包含性能非常强大的高速交换机和路由器（交换路由处理器）

> 交换机的口叫做端口，一个端口连接一个设备，路由器的口叫做接口，一个接口连接多个设备，所以路由器的口子比较少。

## 三、逻辑地址

在层次式设计网络中，要使用逻辑寻址方案来标识主机网络位置，即Internet协议（IP）寻址方案。IP地址（v4）包含两个部分：32位，4个十进制数字。

1. 网络部分：前面的第一部分表示本地网络：所有连接到同一本地网络的主机，其IP地址的网络部分都一样。
2. 主机部分：后面的第二部分表示特定主机：在一个本地网络中，IP地址的主机部分是每台主机所独有的

IP地址是有层次性的，体现在这两个部分，而MAC地址没有层次性，靠MAC地址无法定位到主机。

IP地址的重要作用之一，简单讲就是用于确定网络通信流量是应该保留在本地，还是应该上移到层次式网络的更高层区进行中转。如果目的IP和源IP网络部分相同，即二者属于同一个网络，则保留在本地不出去；如果目的IP和源IP网络部分不相同，即二者不属于同一个网络，则上移到更高层转出去。

## 四、IP地址的测试和验证

有些网络实用程序可测试与目的设备之间的连通性。

### 1、`ping`命令

在Windows中`ping`命令可以测试源和目的设备之间的端到端连通性。

![1](https://laoguantx.top/article/无线网络应用/第二次课/1.png)

上面是我`ping`了我的隔壁一个同学。

因为这个程序的运作和潜水艇的声呐相似，于是Mike Muuss用声呐发出声音来为它取名为ping

使用`ping [IP] -t`可以一直ping，按`Ctrl+C`终止。

![2](https://laoguantx.top/article/无线网络应用/第二次课/2.png)

上面是我狂ping隔壁同学

### 2、`tracert`命令

traceroute命令可以追踪源和目的设备之间的路由/路线，数据包在传输过程中每经过一个路由器成为一跳（跃点，Hop）。traceroute显示沿途每一跳，以及每一跳所花的时间。

Windows中使用`tracert`来使用该命令。

![3](https://laoguantx.top/article/无线网络应用/第二次课/3.png)

上面是我跟踪隔壁同学的设备，我们两个在同一网络之下。

## 五、MAC地址与IP地址的关系

主机的MAC地址一般不会改变，它是以物理方式分配到主机网卡的地址，称为物理地址。无论主机在网络中哪个位置，其物理地址都保持不变，类似于人的名字。

IP地址则类似于人的住址或通信地址，称为逻辑地址，它是根据主机网络位置以逻辑方式分配的。IP地址由网络管理员根据本地网络情况手工或自动分配给每台主机，通常并非固定不变的。

IP地址在数据包的包头中，MAC地址在数据帧的帧头中。